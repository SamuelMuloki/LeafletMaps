<?xml version="1.0" encoding="utf-8"?>
<widget id="com.mendix.widget.custom.leafletmaps.LeafletMaps" needsEntityContext="true" offlineCapable="true"
    xmlns="http://www.mendix.com/widget/1.0/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mendix.com/widget/1.0/ ../xsd/widget.xsd">
    <name>Leaflet Maps</name>
    <description>Add different type of maps to your application, using LeafletJS</description>
    <icon/>
    <properties>
        <!-- Data source -->
        <property key="dataSourceType" type="enumeration" defaultValue="XPath">
            <caption>Data source</caption>
            <category>Data source</category>
            <description/>
            <enumerationValues>
                <enumerationValue key="XPath">Database</enumerationValue>
                <enumerationValue key="microflow">Microflow</enumerationValue>
                <enumerationValue key="static">Static</enumerationValue>
            </enumerationValues>
        </property>
        <property key="locations" type="object" isList="true" required="false">
            <caption>locations</caption>
            <category>Data source</category>
            <description/>
            <properties>
                <property key="locationsEntity" type="entity" required="false">
                    <caption>Locations entity</caption>
                    <category>Database / Microflow</category>
                    <description/>
                </property>
                <property key="entityConstraint" type="entityConstraint" entityProperty="locationsEntity" required="false">
                    <caption>XPath constraint</caption>
                    <category>Database / Microflow</category>
                    <description>Constraint the 'Data source' 'Database' locations. It could be used with relation to '[%CurrentObject%]'</description>
                </property>
                <property key="latitudeAttribute" type="attribute" entityProperty="locationsEntity" required="false">
                    <caption>Latitude attribute</caption>
                    <category>Database / Microflow</category>
                    <description/>
                    <attributeTypes>
                        <attributeType name="Decimal"/>
                    </attributeTypes>
                </property>
                <property key="longitudeAttribute" type="attribute" entityProperty="locationsEntity" required="false">
                    <caption>Longitude attribute  </caption>
                    <category>Database / Microflow</category>
                    <description/>
                    <attributeTypes>
                        <attributeType name="Decimal"/>
                    </attributeTypes>
                </property>
                <property key="dataSourceMicroflow" type="microflow" required="false">
                    <caption>Microflow</caption>
                    <category>Database / Microflow</category>
                    <description>The 'Datasource' 'Microflow' that returns the list of locations</description>
                    <returnType type="Object" entityProperty="locationsEntity" isList="true"/>
                </property>
                <property key="staticLatitude" type="string" required="false">
                    <caption>Latitude</caption>
                    <category>Static</category>
                    <description/>
                </property>
                <property key="staticLongitude" type="string" required="false">
                    <caption>Longitude</caption>
                    <category>Static</category>
                    <description/>
                </property>
                <property key="icon" type="image" required="false">
                    <caption>Marker image</caption>
                    <category>Static</category>
                    <description/>
                </property>
            </properties>
        </property>
        <property key="mapProvider" type="enumeration" defaultValue="openStreet">
            <caption>Map Provider</caption>
            <category>Data source</category>
            <description/>
            <enumerationValues>
                <enumerationValue key="openStreet">Open street</enumerationValue>
                <enumerationValue key="mapBox">Map box</enumerationValue>
            </enumerationValues>
        </property>
        <property key="urlTemplate" type="string" required="false">
            <caption>URL template</caption>
            <category>Data source</category>
            <description/>
        </property>
        <property key="defaultCenterLatitude" type="string" required="false">
            <caption>Default center latitude</caption>
            <category>Data source</category>
            <description/>
        </property>
        <property key="defaultCenterLongitude" type="string" required="false">
            <caption>Default center longitude</caption>
            <category>Data source</category>
            <description/>
        </property>
        <!-- Appearance -->
        <property key="defaultMakerIcon" type="image" required="false">
            <caption>Default image</caption>
            <category>Appearance</category>
            <description>Overwrite the default marker image of the widget</description>
        </property>
        <property key="autoZoom" type="boolean" defaultValue="true">
            <caption>Auto zoom</caption>
            <category>Appearance</category>
            <description>Initial best fit zoom based the available makers. It will overwrite the specified 'Zoom level'</description>
        </property>
        <property key="zoomLevel" type="integer" defaultValue="10">
            <caption>Zoom level</caption>
            <category>Appearance</category>
            <description>1: World, 5: Landmass/continent, 10: City, 15: Streets, 20: Buildings</description>
        </property>
        <property key="widthUnit" type="enumeration" defaultValue="percentage">
            <caption>Width unit</caption>
            <category>Appearance</category>
            <description/>
            <enumerationValues>
                <enumerationValue key="percentage">Percentage</enumerationValue>
                <enumerationValue key="pixels">Pixels</enumerationValue>
            </enumerationValues>
        </property>
        <property key="width" type="integer" defaultValue="100">
            <caption>Map width</caption>
            <category>Appearance</category>
            <description/>
        </property>
        <property key="heightUnit" type="enumeration" defaultValue="percentageOfWidth">
            <caption>Height unit</caption>
            <category>Appearance</category>
            <description>'Percentage of width' is the aspect ratio, 'Pixels' is absolute. Warning: the 'Percentage of parent' only works when the parent has an absolute height, else it will not display</description>
            <enumerationValues>
                <enumerationValue key="percentageOfWidth">Percentage of width</enumerationValue>
                <enumerationValue key="pixels">Pixels</enumerationValue>
                <enumerationValue key="percentageOfParent">Percentage of parent</enumerationValue>
            </enumerationValues>
        </property>
        <property key="height" type="integer" defaultValue="75">
            <caption>Map height</caption>
            <category>Appearance</category>
            <description/>
        </property>
    </properties>
</widget>
